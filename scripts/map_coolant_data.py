import serial

PORT = "/dev/cu.usbserial-1420"
BAUD_RATE = 9600

ser = serial.Serial(PORT, BAUD_RATE)

def map_data():
    lookup_values = [0] * 256
    steinhart_values = [0] * 256

    while True:
        # Check if data is available to read
        if ser.in_waiting > 0:
            line = ser.readline().decode('utf-8').strip()
            if 'lookup' in line and 'steinhart' in line and 'index' in line:
                # Split data into key-value pairs
                parts = line.split()

                # Extract values
                lookup = int(parts[1])
                steinhart = int(parts[3])
                index = int(parts[5])

                if 0 <= index < 256:
                    lookup_values[index] = lookup
                    steinhart_values[index] = steinhart


                print(f"L: {lookup_values}")
                print(f"S: {steinhart_values}")

if __name__ == "__main__":
    map_data()

#S: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 111, 110, 109, 0, 108, 0, 106, 0, 104, 103, 102, 102, 0, 100, 0, 98, 97, 96, 0, 0, 0, 93, 92, 0, 91, 0, 89, 89, 87, 87, 86, 85, 84, 84, 83, 82, 81, 81, 0, 79, 79, 78, 77, 77, 76, 75, 74, 73, 73, 72, 72, 71, 70, 69, 68, 68, 67, 67, 66, 0, 64, 0, 0, 0, 62, 0, 0, 60, 59, 58, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
#L: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 120, 118, 118, 117, 0, 115, 0, 113, 0, 111, 111, 109, 109, 0, 108, 0, 106, 104, 104, 0, 0, 0, 100, 99, 0, 97, 0, 97, 95, 95, 95, 93, 93, 91, 91, 90, 90, 88, 88, 0, 86, 84, 84, 84, 82, 82, 82, 81, 81, 79, 79, 79, 77, 77, 77, 75, 75, 73, 73, 73, 0, 72, 0, 0, 0, 68, 0, 0, 66, 66, 66, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]